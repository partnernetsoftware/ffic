//..\tcc32.exe -L. TradeX2-M.dl -run hq.c

//#include "ffic.h"
//#include "txhq.h"
#include "tx_tool.c"

//180.153.18.170 @ref https://github.com/iorj/tdxhq-1/blob/master/tdx/hq/tdxhq.py
//14.17.75.71 @ref ./TradeX2Demo-M/TradeXDemo-M.cpp
//101.227.77.254 @ref https://github.com/plenari/economic/blob/187f11b32d03cea8479ac8ba643eb9ecd24b0eab/quantaxiss/QA_Trade_stock_query.py

//or check from "connect.cfg" of the software by broker !!!

//..\ffic_static_32.exe txhq.c
//..\tcc32 -I.. -L.. -run txhq.c

#define tx_arr_len(a) (sizeof(a)/sizeof(a[0]))

void main(int argc,char* argv[]) {

	tx_init();
	tx_a = tx_a_hq;
	if(argc<2){
		//char * argv_[] = {"conn","139.159.143.228","7709"};
		char * argv_[] = {"conn","139.159.193.118","7709"};
		argv = argv_;
		argc = tx_arr_len(argv_);
	}
	tx_call("conn",argv,argc,0);
	tx_thread(&handle_stdin,0);

	//long c = 0;
	while(!tx_flag_quit){
		//tx_call("count",argv,argc,0);
		tx_sleep(5000);
		c_fprintf(c_stderr,".");
		c_fflush(c_stderr);
		//if(nConn>=0){
		//	//int count = hq_check_conn(argv,argc,0);
		//	//c_fprintf(c_stderr,"# count %d\n", count);
		//	////if( count<=0 ){
		//	////	tx_flag_quit = 1;
		//	////	c_fprintf(c_stderr,"# quit for count %d\n", count);
		//	////}else{
		//	////	//c_fprintf(c_stderr,"# count %d\n", count);
		//	////	c_fprintf(c_stderr,".");
		//	////}
		//	//c_fflush(c_stderr);
		//}else{
		//	tx_flag_quit = 1;
		//}
	}
	c_fprintf(c_stderr,"# exit\n");
	c_fflush(c_stderr);
}

/*
[HQHOST]
HostNum=65
PrimaryHost=29
HostName01=南京电信行情一
IPAddress01=103.221.142.65	
Port01=7709		
HostName02=北京双线行情三	
IPAddress02=114.118.82.209	
Port02=7709
HostName03=广州BGP行情一
IPAddress03=139.159.143.228
Port03=7709
HostName04=东莞电信行情三
IPAddress04=183.60.224.144
Port04=7709
HostName05=南京电信行情二
IPAddress05=103.221.142.66
Port05=7709
HostName06=南京电信行情三
IPAddress06=103.221.142.67
Port06=7709
HostName07=南京电信行情四
IPAddress07=103.221.142.68	
Port07=7709
HostName08=南京电信行情五
IPAddress08=103.221.142.69
Port08=7709
HostName09=南京电信行情六
IPAddress09=103.221.142.70
Port09=7709
HostName10=南京电信行情七
IPAddress10=103.221.142.71
Port10=7709
HostName11=南京电信行情八
IPAddress11=103.221.142.72
Port11=7709
HostName12=广州BGP行情二
IPAddress12=139.159.183.76
Port12=7709
HostName13=广州BGP行情三
IPAddress13=139.159.193.118
Port13=7709
HostName14=广州BGP行情四
IPAddress14=139.159.195.177
Port14=7709
HostName15=广州BGP行情五
IPAddress15=139.159.202.253
Port15=7709
HostName16=广州BGP行情六
IPAddress16=139.159.214.78
Port16=7709
HostName17=广州BGP行情七
IPAddress17=139.9.38.206
Port17=7709
HostName18=广州BGP行情八
IPAddress18=139.9.43.104
Port18=7709
HostName19=广州BGP行情九
IPAddress19=139.9.43.31
Port19=7709
HostName20=广州BGP行情十
IPAddress20=139.9.50.246
Port20=7709
HostName21=广州BGP行情十一
IPAddress21=139.9.52.158
Port21=7709
HostName22=广州BGP行情十二
IPAddress22=139.9.90.169
Port22=7709
HostName23=东莞电信行情一
IPAddress23=183.60.224.142
Port23=7709
HostName24=东莞电信行情二
IPAddress24=183.60.224.143
Port24=7709
HostName25=东莞电信行情四
IPAddress25=183.60.224.145
Port25=7709
HostName26=东莞电信行情五
IPAddress26=183.60.224.146
Port26=7709
HostName27=东莞电信行情六
IPAddress27=183.60.224.147
Port27=7709
HostName28=东莞电信行情七
IPAddress28=183.60.224.148
Port28=7709
HostName29=东莞电信行情八
IPAddress29=183.60.224.149
Port29=7709
HostName30=东莞电信行情九
IPAddress30=183.60.224.150
Port30=7709
HostName31=北京双线行情一
IPAddress31=114.118.82.207
Port31=7709
HostName32=北京双线行情二
IPAddress32=114.118.82.208
Port32=7709
HostName33=北京双线行情四
IPAddress33=114.118.82.210
Port33=7709
HostName34=北京双线行情五
IPAddress34=114.118.82.211
Port34=7709
HostName35=北京双线行情六
IPAddress35=114.118.82.212
Port35=7709
HostName36=北京双线行情七
IPAddress36=114.118.82.213
Port36=7709
HostName37=北京双线行情八
IPAddress37=114.118.82.214
Port37=7709
HostName38=北京双线行情九
IPAddress38=114.118.82.215
Port38=7709
HostName39=北京双线行情十
IPAddress39=114.118.82.216
Port39=7709
HostName40=北京双线行情十一
IPAddress40=114.118.82.217
Port40=7709
HostName41=北京双线行情十二
IPAddress41=114.118.82.218
Port41=7709
HostName42=北京双线行情十三
IPAddress42=114.118.82.219
Port42=7709
HostName43=北京双线行情十四
IPAddress43=114.118.82.220
Port43=7709
HostName44=成都电信行情一
IPAddress44=218.89.166.139
Port44=7709
HostName45=成都电信行情二
IPAddress45=218.89.166.140
Port45=7709
HostName46=成都电信行情三
IPAddress46=218.89.166.141
Port46=7709
HostName47=成都电信行情四
IPAddress47=218.89.166.142
Port47=7709
HostName48=西安电信行情一
IPAddress48=117.34.114.13
Port48=7709
HostName49=西安电信行情二
IPAddress49=117.34.114.14
Port49=7709
HostName50=西安电信行情三
IPAddress50=117.34.114.15
Port50=7709
HostName51=西安电信行情四
IPAddress51=117.34.114.16
Port51=7709
HostName52=西安电信行情五
IPAddress52=117.34.114.17
Port52=7709
HostName53=西安电信行情六
IPAddress53=117.34.114.18
Port53=7709
HostName54=西安电信行情七
IPAddress54=117.34.114.20
Port54=7709
HostName55=西安电信行情八
IPAddress55=117.34.114.27
Port55=7709
HostName56=西安电信行情九
IPAddress56=117.34.114.30
Port56=7709
HostName57=西安电信行情十
IPAddress57=117.34.114.31
Port57=7709
HostName58=郑州网通行情一
IPAddress58=182.118.47.141
Port58=7709
HostName59=郑州网通行情二
IPAddress59=182.118.47.168
Port59=7709
HostName60=郑州网通行情三
IPAddress60=182.118.47.169
Port60=7709
HostName61=郑州网通行情四
IPAddress61=182.118.47.170
Port61=7709
HostName62=郑州网通行情五
IPAddress62=182.118.47.172
Port62=7709
HostName63=成都云行情
IPAddress63=148.70.111.63
Port63=7709
HostName64=成都电信行情五
IPAddress64=221.236.13.184
Port64=7709
HostName65=成都电信行情六
IPAddress65=221.236.13.186
Port65=7709


[INFOHOST]
Info=1
HostNum=65
PrimaryHost=28
HostName01=南京电信资讯一
IPAddress01=103.221.142.65	
Port01=7711		
HostName02=北京双线资讯三	
IPAddress02=114.118.82.209	
Port02=7711
HostName03=广州BGP资讯一
IPAddress03=139.159.143.228
Port03=7711
HostName04=东莞电信资讯三
IPAddress04=183.60.224.144
Port04=7711
HostName05=南京电信资讯二
IPAddress05=103.221.142.66
Port05=7711
HostName06=南京电信资讯三
IPAddress06=103.221.142.67
Port06=7711
HostName07=南京电信资讯四
IPAddress07=103.221.142.68	
Port07=7711
HostName08=南京电信资讯五
IPAddress08=103.221.142.69
Port08=7711
HostName09=南京电信资讯六
IPAddress09=103.221.142.70
Port09=7711
HostName10=南京电信资讯七
IPAddress10=103.221.142.71
Port10=7711
HostName11=南京电信资讯八
IPAddress11=103.221.142.72
Port11=7711
HostName12=广州BGP资讯二
IPAddress12=139.159.183.76
Port12=7711
HostName13=广州BGP资讯三
IPAddress13=139.159.193.118
Port13=7711
HostName14=广州BGP资讯四
IPAddress14=139.159.195.177
Port14=7711
HostName15=广州BGP资讯五
IPAddress15=139.159.202.253
Port15=7711
HostName16=广州BGP资讯六
IPAddress16=139.159.214.78
Port16=7711
HostName17=广州BGP资讯七
IPAddress17=139.9.38.206
Port17=7711
HostName18=广州BGP资讯八
IPAddress18=139.9.43.104
Port18=7711
HostName19=广州BGP资讯九
IPAddress19=139.9.43.31
Port19=7711
HostName20=广州BGP资讯十
IPAddress20=139.9.50.246
Port20=7711
HostName21=广州BGP资讯十一
IPAddress21=139.9.52.158
Port21=7711
HostName22=广州BGP资讯十二
IPAddress22=139.9.90.169
Port22=7711
HostName23=东莞电信资讯一
IPAddress23=183.60.224.142
Port23=7711
HostName24=东莞电信资讯二
IPAddress24=183.60.224.143
Port24=7711
HostName25=东莞电信资讯四
IPAddress25=183.60.224.145
Port25=7711
HostName26=东莞电信资讯五
IPAddress26=183.60.224.146
Port26=7711
HostName27=东莞电信资讯六
IPAddress27=183.60.224.147
Port27=7711
HostName28=东莞电信资讯七
IPAddress28=183.60.224.148
Port28=7711
HostName29=东莞电信资讯八
IPAddress29=183.60.224.149
Port29=7711
HostName30=东莞电信资讯九
IPAddress30=183.60.224.150
Port30=7711
HostName31=北京双线资讯一
IPAddress31=114.118.82.207
Port31=7711
HostName32=北京双线资讯二
IPAddress32=114.118.82.208
Port32=7711
HostName33=北京双线资讯四
IPAddress33=114.118.82.210
Port33=7711
HostName34=北京双线资讯五
IPAddress34=114.118.82.211
Port34=7711
HostName35=北京双线资讯六
IPAddress35=114.118.82.212
Port35=7711
HostName36=北京双线资讯七
IPAddress36=114.118.82.213
Port36=7711
HostName37=北京双线资讯八
IPAddress37=114.118.82.214
Port37=7711
HostName38=北京双线资讯九
IPAddress38=114.118.82.215
Port38=7711
HostName39=北京双线资讯十
IPAddress39=114.118.82.216
Port39=7711
HostName40=北京双线资讯十一
IPAddress40=114.118.82.217
Port40=7711
HostName41=北京双线资讯十二
IPAddress41=114.118.82.218
Port41=7711
HostName42=北京双线资讯十三
IPAddress42=114.118.82.219
Port42=7711
HostName43=北京双线资讯十四
IPAddress43=114.118.82.220
Port43=7711
HostName44=成都电信资讯一
IPAddress44=218.89.166.139
Port44=7711
HostName45=成都电信资讯二
IPAddress45=218.89.166.140
Port45=7711
HostName46=成都电信资讯三
IPAddress46=218.89.166.141
Port46=7711
HostName47=成都电信资讯四
IPAddress47=218.89.166.142
Port47=7711
HostName48=西安电信资讯一
IPAddress48=117.34.114.13
Port48=7711
HostName49=西安电信资讯二
IPAddress49=117.34.114.14
Port49=7711
HostName50=西安电信资讯三
IPAddress50=117.34.114.15
Port50=7711
HostName51=西安电信资讯四
IPAddress51=117.34.114.16
Port51=7711
HostName52=西安电信资讯五
IPAddress52=117.34.114.17
Port52=7711
HostName53=西安电信资讯六
IPAddress53=117.34.114.18
Port53=7711
HostName54=西安电信资讯七
IPAddress54=117.34.114.20
Port54=7711
HostName55=西安电信资讯八
IPAddress55=117.34.114.27
Port55=7711
HostName56=西安电信资讯九
IPAddress56=117.34.114.30
Port56=7711
HostName57=西安电信资讯十
IPAddress57=117.34.114.31
Port57=7711
HostName58=郑州网通资讯一
IPAddress58=182.118.47.141
Port58=7711
HostName59=郑州网通资讯二
IPAddress59=182.118.47.168
Port59=7711
HostName60=郑州网通资讯三
IPAddress60=182.118.47.169
Port60=7711
HostName61=郑州网通资讯四
IPAddress61=182.118.47.170
Port61=7711
HostName62=郑州网通资讯五
IPAddress62=182.118.47.172
Port62=7711
HostName63=成都云资讯
IPAddress63=148.70.111.63
Port63=7711
HostName64=成都电信资讯五
IPAddress64=221.236.13.184
Port64=7711
HostName65=成都电信资讯六
IPAddress65=221.236.13.186
Port65=7711

[USERHOST]
WtUserVerifyStyle=1
GuestLogin=0
RegisterLogin=1
JyLogin=0
DialogRegister=0
GuestLogin_Str=浏览用户
RegisterLogin_Str=注册用户
JyLogin_Str=交易用户
MiscJyStyle=1
HasAutoRelation=0
HasWebRelation=0
CanDelMySelf=0
OnlyWebUser=0
Web_RegisterURL=
Web_UserInfoURL=
EnableUserName=1
UserHostEverConnect=0
SpecIPLogin=0
SpecIPLogin_Str=总部用户
QSID=国泰君安
HexinWtOnlyTXMM=0
ReVerifySpan=80
CheckUserURL=

[OTHER]
SupportStatusRoll=1
HideLogoTab=1
InitTcpipMode=0
NoDiskMode=0
TurnLogo=0
AlwaysGuest=0
PreName=国泰君安证券|富易
TitleName=国泰君安证券|富易
Corp=国泰君安
CorpWeb=www.gtja.com
DownloadWeb=fy.gtja.com
AutoUpZip=tdxw3_gtjazd_tcpip
WebInfoINI=
UserGuideBtURL=http://dl.app.gtja.com/public/fy/fyhelp/main.html
HelpURL=www.treeid/dlghttp://dl.app.gtja.com/public/fy/fyhelp/main.html
ForumURL=tdx.com.cn
RiskPost=1
AutoConnectIn=1
ShowVersoin=1
LogoAdvert=
WTF12=1
MainWebTitle=
WTPreNAME=国泰君安
HIDESAVEZH=0
MinAuthPassLen=1
DgzqStyle=0
ForbidSameTime=0
HasWebInfo=0
SysMark=国泰君安
WebPageNum=0
WtUserVerifyStyle=0
EnableNLB=1
HintSwitch=0
SHOWGBINFO=1
AutoupURLDir=http://www.tdx.com.cn/products/autoup/
HasDS=1
HasCustomPad=1
HasChat=0
HasJBFX=0
TreeCloseBtn=1
ALLEQUAL=0
TREEQUIT=0
HasSSL=0
RandSwitch=1
RestRightBtn=0
EveryFirstHost=0
HasUserHost=0
WTF9=0
HasShx=0
ForbidOtherHost=0
CanUsedConnectEver=0
HasTICQ=0
AtOnceDown=0
UseLocalData=0
DiffVolMode=0
docpath=
WebKeyGuy=0
Show3MMP=0
AutoConnectTICQ=0
AutoLogo=0
ReConnectNum=0
EmailStr=
EmailURL=
NeedPlugExe=0
PlugExePath=
F10Cache1Day=1
AddBlockPrompt=0
SimpleZxMenu=0
LogoTimeOut=8
GLSCVersion=0
HasExDay=0
HasZHB=0
CompatibleSzCode=1
AboutURL=
HasWebMovingInfo=0
AlwaysMovingInfo=0
WebDownInterval=30
WebMovingUrl=
NoAutoup=0
NBBS=tdx
ShareMode=0
FXJSSADDRESS=
SHOWFASTCHECK=1
GETFASTHOST=1
LOGINKOULING=0
AUTOUPDATE=1
CYFIRST=0
CLEAN=1
GPFILTER=0
Warn=1
WhichAutoUpInfo=9
OtherFileName=customcfg_coolzd312.zip
NLBOnLogo=0
OnlyOne=0
Version_Title=国泰君安
WebInfoURL=
HelpWebStr=
HelpWebURL=
AutoupFromHQHost=0
LittleFluxVersion=0
MaxFluxCount=19200000
TRADEAUTOUP=0
APPLYONLINE=0
NLBLESS=0
ShowZjzhInCombo=1
ShowProtect=1
ALLONESAVE=0
EmbedTabSel=0
SaveEmbedTabSel=0
WTColorIcon=0
ShowWTServerName=0
DSAutoStopMinute=0

[DSHOST]
HostNum=4
PrimaryHost=1
HostName01=扩展行情主站1
IPAddress01=222.185.229.183
Port01=7721
HostName02=扩展行情主站2
IPAddress02=114.118.82.205
Port02=7721
HostName03=扩展行情主站3
IPAddress03=117.34.114.31
Port03=7721
HostName04=扩展行情主站4
IPAddress04=183.60.224.147
Port04=7721


[Integrity]
ChatAreaNum=3

ChatAreaStr01=信息地雷
AreaType01=4
ChatURL01=

ChatAreaStr02=投资日记
AreaType02=6

ChatAreaStr03=委托交易
AreaType03=9

[Version]
AutoupInfoUrgent=1
TdxCloudAddress_UseCurTP=1
TdxCloudAddress_TP=114.141.165.211:7626
NewJy=0
InsideVersion=0
HasVipJy=0
HasCXMode=0
OnlyHK=0
DefaultRestHeight=360
ShowRZRQInGrid=1
UseMiscPriceWarn=1
DelayUseTC=1
ClassXPType=5
ZSOneJYUI=1
ZSOneHQUI=1
SmallToolHeight=1
HasCoolSearch=1
HasLeftHQ=1

[TPSYS]
UseMT=1
TimeLimit=3000
TPCanAnonymous=1

TPHostNum=16
PrimaryTPHost=0

TPHostName01=国泰君安TP服务器一
TPHost01=114.141.165.213
TPPort01=7626
TPHostName02=国泰君安TP服务器二
TPHost02=114.141.165.214
TPPort02=7626
TPHostName03=国泰君安TP服务器三
TPHost03=114.141.165.209
TPPort03=7626
TPHostName04=国泰君安TP服务器四
TPHost04=114.141.165.210
TPPort04=7626
TPHostName05=国泰君安TP服务器五
TPHost05=114.141.165.211
TPPort05=7626
TPHostName06=国泰君安TP服务器六
TPHost06=114.141.165.212
TPPort06=7626
TPHostName07=国泰君安TP服务器七
TPHost07=180.168.205.44
TPPort07=7626
TPHostName08=国泰君安TP服务器八
TPHost08=180.168.205.45
TPPort08=7626
TPHostName09=国泰君安TP服务器九
TPHost09=180.168.205.46
TPPort09=7626
TPHostName10=国泰君安TP服务器十
TPHost10=210.13.86.92
TPPort10=7626
TPHostName11=国泰君安TP服务器十一
TPHost11=210.13.86.93
TPPort11=7626
TPHostName12=国泰君安TP服务器十二
TPHost12=210.13.86.94
TPPort12=7626
TPHostName13=国泰君安TP服务器十三
TPHost13=210.13.86.95
TPPort13=7626
TPHostName14=国泰君安TP服务器十四
TPHost14=210.13.86.96
TPPort14=7626
TPHostName15=国泰君安TP服务器十五
TPHost15=103.250.192.114
TPPort15=7626
TPHostName16=国泰君安TP服务器十六
TPHost16=103.250.192.115
TPPort16=7626

[TRYHQHOST]
PrimaryHost=-1
[OTHERHOST]
L2PrimaryHost=0
SSDSPrimaryHost=0
VipHQPrimaryHost=-1
VipHQ2PrimaryHost=-1
CooPrimaryHost=0
[IETOOLBAR]
TOOLNAME=TdxW.exe
TOOLFLAG=0
TOOLKEY=
TOOLTEXT=国泰君安新富易(2019版)
TOOLPATH=国泰君安新富易
[STARTMENU]
HASHDIR=0
HDIRNAME=
[CWSYS]
PrimaryCWHost=0
[SHELLEXE]
EXENUM=1
EXENAME00=TdxSP.exe
EXEDESC00=高清显示组件
[WTHOST]
HostNum=0
PrimaryHost=0
[VitalBtn]
BtnNum=0

 * 
 */
